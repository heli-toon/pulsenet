{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{user.username}} - Settings</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap-icons.min.css' %}" />
    <link rel="shortcut icon" href="{% static 'images/logo.png' %}" type="image" />
    <script defer src="{% static 'js/script.js' %}"></script>
  </head>
  <body class="light">
    <nav class="navbar">
      <div class="left-sidenav">
        <div class="logo">
          <a href="/" title="Pulsenetio">
            <img src="{% static 'images/logo.png' %}" alt="Pulsenetio Logo" />
          </a>
        </div>
        <div class="search-box">
          <a title="Search Page" href="/search"><i class="bi bi-search"></i></a>
          <input
            type="search"
            placeholder="Search Pulsenetio"
            name="search"
            title="Search"
            id="search"
          />
        </div>
      </div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="#" class="nav-icon-button active"
            ><i class="bi bi-gear-fill"></i
          ></a>
        </li>
        <li class="nav-item has-dropdown">
          <a 
            href="#"
            class="nav-icon-button" 
            title="Post"
            onfocus="event.preventDefault()"
            onclick="event.preventDefault()"
            ><i class="bi bi-plus-square-fill"></i
          ></a>
          <div class="nav-dropdown">
            <div class="nav-dropdown-title">
              <h4>Post</h4>
            </div>
            <div class="post-uploader">
              <form action="upload" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="post-uploader-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    class="w-12"
                  >
                    <path
                      d="M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z"
                    />
                    <path d="M9 13h2v5a1 1 0 11-2 0v-5z" />
                  </svg>
                </div>
                <p>
                  Upload Photos<br />
                  please upload here ..
                </p>
                <div class="chooseupload">
                  <input
                    title="file"
                    type="file"
                    name="image_upload"
                    required
                  />
                  <button type="button" href="#" class="btn">
                    Choose a File
                  </button>
                </div>
                <div>
                  <textarea
                    name="caption"
                    placeholder="Enter a Caption"
                    id=""
                    cols="28"
                    rows="10"
                    required
                  ></textarea>
                  <button type="submit" title="Post" href="#" class="btn">
                    Post
                  </button>
                </div>
              </form>
            </div>
          </div>
        </li>
        <li class="nav-item has-dropdown">
          <a href="#" class="nav-icon-button" title="Profile"
            ><i class="bi bi-caret-down-fill"></i
          ></a>
          <ul class="nav-dropdown">
            <li class="nav-dropdown-menu-item">
              <a href="/"
                ><i class="bi bi-house-door-fill"></i> Home</a
              >
            </li>
            <li class="nav-dropdown-menu-item">
              <a href="/profile"
                ><i class="bi bi-person-fill"></i> Profile</a
              >
            </li>
            <li class="nav-dropdown-menu-item">
              <a href="/feedback"
                ><i class="bi bi-chat-left-dots-fill"></i> Feedback</a
              >
            </li>
            <li class="nav-dropdown-menu-item">
              <a href="/login"
                ><i class="bi bi-door-open-fill"></i> Log Out</a
              >
            </li>
          </ul>
        </li>
      </ul>
    </nav>
    <main id="in">
      <section class="settings">
        <h1>Settings & Prefrences</h1>
        <div class="settings-navbar">
          <ul class="settings-nav">
            <li><a href="#personal">Personal</a></li>
            <li><a href="#themes">Themes</a></li>
            <li><a href="#soon">Passwords</a></li>
            <li><a href="/privacy">Privacy</a></li>
          </ul>
        </div>
        <div class="settings-body">
          <div id="personal" class="personalpref">
            <form action="" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <h2>Personal</h2>
              <div class="border-bottom"></div>
              <div class="profile-img">
                <label for="" name="profile-img">Profile Image</label>
                <img
                  width="100"
                  height="100"
                  src="{{user_profile.profileimg.url}}"
                  alt="Your Profile Image"
                />
                <label for="file-upload" class="custom-file-upload btn">
                  <i class="bi bi-upload"></i> Upload photo
                </label>
                <input
                  id="file-upload"
                  name="image"
                  title="Your Profile Image"
                  type="file"
                />
              </div>
              <div class="profile-bio">
                <label for="about">Bio</label>
                <textarea
                  id="about"
                  name="bio"
                  placeholder="Say something about yourself..."
                  rows="4"
                >{{ user_profile.bio }}</textarea>
              </div>
              <div class="profile-location">
                <label for="location" name="location">Location</label>
                <input
                  title="Location"
                  placeholder="Location"
                  type="text"
                  name="location"
                  value="{{user_profile.location}}"
                />
              </div>
              <h2 id="themes">Themes</h2>
              <div class="border-bottom"></div>
              <div class="themepref">
                <label for="toggle">Dark Mode</label>
                <label for="toggle" class="toggle">
                  <input
                    title="Theme"
                    name="theme"
                    id="toggle"
                    type="checkbox"
                    onclick="toggleDarkMode()"
                  />
                  <span class="slider"></span>
                </label>
              </div>
              <div class="form-submit">
                <a href="/" class="btn btn-sec">
                  <i class="bi bi-arrow-left-circle-fill"></i>Back</a
                >
                <button type="submit" class="btn">
                  <i class="bi bi-floppy2-fill"></i> Save
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>